# 群组详情页面布局优化

## 修改概述
本次对群组详情页面进行了布局优化，主要目标是更好地利用页面空间，将操作按钮放在合适的位置，提升用户体验。

## 具体修改内容

### 1. 返回按钮位置调整
- **修改前**: 返回按钮位于群组名称左侧
- **修改后**: 返回按钮移至页面标题区域的最右侧
- **优势**: 
  - 符合用户习惯，返回操作通常在右上角
  - 减少页面左侧的视觉干扰
  - 为群组标题预留更多空间

### 2. 操作按钮位置优化
- **修改前**: "群组设置"和"邀请成员"按钮位于群组名称右侧的 PageHeader 中
- **修改后**: 这两个按钮移至 Tabs 标签栏的右侧，使用 `tabBarExtraContent` 属性
- **优势**:
  - 节省页面顶部空间
  - 操作按钮与内容标签页在同一水平线，视觉更整洁
  - 更好的空间利用率

### 3. 页面布局结构
新的页面结构如下：
```
┌─────────────────────────────────────────────────────────┐
│ 群组名称 + 标签                          [返回按钮]      │
│ 群组描述                                                │
├─────────────────────────────────────────────────────────┤
│ [群组概览] [成员管理] [专案列表]    [群组设置] [邀请成员] │
│                                                         │
│ Tab 内容区域                                            │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

## 技术实现

### 使用 tabBarExtraContent 属性
```typescript
<Tabs
  items={tabItems}
  defaultActiveKey="overview"
  tabBarExtraContent={
    actionButtons.length > 0 ? (
      <Space>
        {actionButtons}
      </Space>
    ) : null
  }
/>
```

### 动态按钮生成
```typescript
const actionButtons = [];

if (isOwner || isGroupAdmin || isSystemAdmin) {
  actionButtons.push(
    <Button
      key="settings"
      icon={<SettingOutlined />}
      onClick={() => message.info('群组设置功能开发中...')}
    >
      群组设置
    </Button>
  );
}

if (isOwner || isSystemAdmin) {
  actionButtons.push(
    <Button
      key="invite"
      type="primary"
      icon={<UserAddOutlined />}
      onClick={() => message.info('邀请成员功能开发中...')}
    >
      邀请成员
    </Button>
  );
}
```

## 用户体验改进

1. **空间利用更高效**: 将操作按钮与标签页对齐，减少垂直空间占用
2. **视觉层次更清晰**: 操作按钮与相关内容在同一区域，逻辑关联更强
3. **操作更直观**: 用户在浏览不同标签页时，相关操作按钮始终可见
4. **响应式友好**: 使用 Ant Design 的原生属性，确保在不同屏幕尺寸下正常显示

## 权限控制

操作按钮的显示遵循以下权限规则：
- **群组设置**: 群主、群组管理员、系统管理员可见
- **邀请成员**: 群主、系统管理员可见
- 如果用户没有任何权限，tabBarExtraContent 为 null，不显示额外内容

## 兼容性

- 保持了原有的功能不变
- 使用 Ant Design 的标准 API，确保组件稳定性
- 支持现有的权限控制逻辑
- 保持了响应式设计

## 代码优化

1. **移除了不必要的复杂布局**: 不再使用自定义 flex 布局来包装 Tabs
2. **使用原生 API**: 利用 Ant Design 的 `tabBarExtraContent` 属性
3. **简化状态管理**: 移除了 headerActions 数组，直接创建 actionButtons
4. **更好的可维护性**: 代码结构更清晰，易于后续修改

## 测试要点

1. **权限测试**: 确认不同角色用户看到正确的操作按钮
2. **响应式测试**: 在不同屏幕尺寸下验证布局正确性
3. **功能测试**: 确认所有按钮点击功能正常
4. **视觉测试**: 确认按钮与标签页对齐正确