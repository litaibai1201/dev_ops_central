# API Gateway Service 环境配置示例
# 复制此文件为 .env 并根据实际环境修改配置

# ==================== 数据库配置 ====================
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=your_password
MYSQL_DATABASE=api_gateway

# ==================== Redis 配置 ====================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ==================== 应用配置 ====================
SECRET_KEY=your-secret-key
JWT_SECRET_KEY=APIGateway2025!
DEBUG=true

# ==================== 服务器配置 ====================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# ==================== 网关特有配置 ====================
GATEWAY_DEFAULT_TIMEOUT=30
GATEWAY_MAX_RETRY_COUNT=3
GATEWAY_REQUEST_TIMEOUT=30

# ==================== 熔断器配置 ====================
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60
CIRCUIT_BREAKER_ENABLED=true

# ==================== 限流配置 ====================
DEFAULT_RATE_LIMIT_RPM=1000
DEFAULT_RATE_LIMIT_WINDOW=60

# ==================== 负载均衡配置 ====================
DEFAULT_LOAD_BALANCE_STRATEGY=round_robin
SERVICE_DISCOVERY_ENABLED=true

# ==================== 健康检查配置 ====================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5
UNHEALTHY_THRESHOLD=3

# ==================== 监控配置 ====================
METRICS_ENABLED=true
PROMETHEUS_PORT=9090

# ==================== 请求日志配置 ====================
REQUEST_LOG_ENABLED=true
REQUEST_LOG_SAMPLE_RATE=1.0

# ==================== 缓存配置 ====================
RESPONSE_CACHE_ENABLED=false
RESPONSE_CACHE_DEFAULT_TTL=300
CACHE_DEFAULT_TIMEOUT=300
CACHE_KEY_PREFIX=api_gateway:

# ==================== API版本管理 ====================
API_VERSION_HEADER=X-API-Version
DEFAULT_API_VERSION=v1

# ==================== 安全配置 ====================
CORS_ENABLED=true
CORS_ORIGINS=*

# ==================== 日志配置 ====================
LOG_LEVEL=INFO
LOG_RETENTION_DAYS=30

# ==================== 认证相关配置 ====================
PASSWORD_MIN_LENGTH=6
PASSWORD_MAX_LENGTH=128
JWT_ACCESS_TOKEN_EXPIRE_HOURS=2
REFRESH_TOKEN_EXPIRE_DAYS=30

# ==================== WebSocket配置 (为未来扩展预留) ====================
WEBSOCKET_ENABLED=false
WEBSOCKET_PATH=/ws